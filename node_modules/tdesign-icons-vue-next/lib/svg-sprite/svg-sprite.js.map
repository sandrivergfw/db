{"version":3,"file":"svg-sprite.js","sources":["../../src/svg-sprite/svg-sprite.tsx"],"sourcesContent":["import {\n  computed, defineComponent, h, onMounted,\n} from 'vue';\n\nimport ConfigContext from '../utils/config-context';\nimport useSizeProps from '../utils/use-size-props';\nimport { checkScriptAndLoad } from '../utils/check-url-and-load';\n\nimport props from './props/props';\n\nimport '../style/css';\n\nconst { classPrefix } = ConfigContext;\n\nconst CDN_ICONFONT_URL = 'https://tdesign.gtimg.com/icon/0.1.2/fonts/index.js';\n\nexport default defineComponent({\n  name: 'Icon',\n  props,\n  setup(props, { attrs }) {\n    const propsSize = computed(() => props.size);\n    const name = computed(() => props.name || '');\n\n    const { className: sizeClassName, style: sizeStyle } = useSizeProps(propsSize);\n\n    const finalUrl = computed(() => {\n      let url = [];\n      url = props.url instanceof Array ? props.url.concat() : [props.url];\n      if (props.loadDefaultIcons) url.push(CDN_ICONFONT_URL);\n      return url;\n    });\n\n    const classNames = computed(() => [\n      `${classPrefix}-icon`,\n      `${classPrefix}-icon-${name.value}`,\n      sizeClassName.value,\n\n    ]);\n\n    const finalStyle = computed(() => ({ ...sizeStyle.value, ...(attrs.style as Styles) }));\n\n    onMounted(() => {\n      Array.from(new Set(finalUrl.value as string[])).forEach((url: string) => {\n        checkScriptAndLoad(url, `${classPrefix}-svg-js-stylesheet--unique-class`);\n      });\n    });\n\n    const finalProps = computed(() => ({\n      class: classNames.value,\n      style: finalStyle.value,\n      onClick: (e:MouseEvent) => props.onClick?.({ e }),\n    }));\n\n    return () => h('svg', finalProps.value, h('use', { href: props.url ? `#${name.value}` : `#t-icon-${name.value}` }));\n  },\n\n});\n"],"names":["classPrefix","ConfigContext","CDN_ICONFONT_URL","defineComponent","name","props","setup","props2","attrs","propsSize","computed","size","className","sizeClassName","style","sizeStyle","useSizeProps","finalUrl","url","Array","concat","loadDefaultIcons","push","classNames","value","finalStyle","from","Set","forEach","finalProps","class","onClick","e","h","href"],"mappings":";;;;;;;;;;;;;;;AAYA,IAAM;AAAEA,EAAAA;AAAF,IAAkBC,8BAAxB;AAEA,IAAMC,mBAAmB,qDAAzB;AAEA,YAAeC,oBAAgB;AAC7BC,EAAAA,MAAM,MADuB;AAE7BC,SAAAA,gCAF6B;;AAG7BC,EAAAA,MAAMC,cAAkB;AAAA,QAAX;AAAEC,MAAAA;AAAF,KAAW;QAChBC,YAAYC,aAAS,MAAMH,OAAMI;QACjCP,OAAOM,aAAS,MAAMH,OAAMH,IAAN,IAAc;QAEpC;AAAEQ,MAAAA,WAAWC,aAAb;AAA4BC,MAAAA,OAAOC;AAAnC,QAAiDC,8BAAaP;QAE9DQ,WAAWP,aAAS,MAAM;UAC1BQ,MAAM;YACJX,OAAMW,GAAN,YAAqBC,KAArB,GAA6BZ,OAAMW,GAAN,CAAUE,MAAV,EAA7B,GAAkD,CAACb,OAAMW,GAAP;UACpDX,OAAMc,sBAAsBC,KAAKpB;aAC9BgB;;QAGHK,aAAab,aAAS,MAAM,WAC7BV,WAD6B,sBAE7BA,WAF6B,mBAETI,KAAKoB,KAFI,GAGhCX,cAAcW,KAHkB;QAO5BC,aAAaf,aAAS,sCAAYK,UAAUS,KAAtB,GAAiChB,MAAMM,KAAvC;kBAElB,MAAM;YACRY,KAAK,IAAIC,GAAJ,CAAQV,SAASO,KAAjB,GAAqCI,QAASV,GAAD,IAAiB;iDACpDA,eAAQlB;;;QAIzB6B,aAAanB,aAAS;AAC1BoB,MAAAA,OAAOP,WAAWC;AAClBV,MAAAA,OAAOW,WAAWD;AAClBO,MAAAA,SAAUC,CAAD;AAAA;;AAAA,kCAAkBzB,OAAMwB,OAAxB,oDAAkB,qBAAAxB,QAAgB;AAAEyB,UAAAA;AAAF,UAAlC;AAAA;KAHiB;WAMrB,MAAMC,MAAE,OAAOJ,WAAWL,OAAOS,MAAE,OAAO;AAAEC,MAAAA,MAAM3B,OAAMW,GAAN,cAAgBd,KAAKoB,KAArB,sBAA0CpB,KAAKoB,KAA/C;AAAR;;;AArCtB,EAA/B;;;;"}