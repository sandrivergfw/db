{"version":3,"file":"ImageViewerUtils.mjs","sources":["../../../src/image-viewer/base/ImageViewerUtils.tsx"],"sourcesContent":["import { defineComponent, PropType } from 'vue';\nimport { ImageIcon, ZoomInIcon, ZoomOutIcon, DownloadIcon, MirrorIcon, RotationIcon } from 'tdesign-icons-vue-next';\n\nimport TImageViewerIcon from './ImageModalIcon';\nimport TToolTip from '../../tooltip';\nimport { usePrefixClass } from '../../hooks/useConfig';\nimport { downloadFile } from '../utils';\n\nimport { ImageInfo } from '../type';\n\nexport default defineComponent({\n  name: 'TImageViewerUtils',\n  props: {\n    scale: Number,\n    onRotate: Function as PropType<() => void>,\n    onZoomIn: Function as PropType<() => void>,\n    onZoomOut: Function as PropType<() => void>,\n    onMirror: Function as PropType<() => void>,\n    onReset: Function as PropType<() => void>,\n    currentImage: {\n      type: Object as PropType<ImageInfo>,\n      default() {\n        return {};\n      },\n    },\n  },\n  setup(props) {\n    const classPrefix = usePrefixClass();\n\n    return () => (\n      <div class={`${classPrefix.value}-image-viewer__utils`}>\n        <div class={`${classPrefix.value}-image-viewer__utils-content`}>\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"镜像\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <TImageViewerIcon onClick={props.onMirror} icon={() => <MirrorIcon size=\"medium\" />} />\n          </TToolTip>\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"旋转\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <TImageViewerIcon onClick={props.onRotate} icon={() => <RotationIcon size=\"medium\" />} />\n          </TToolTip>\n          <TImageViewerIcon icon={() => <ZoomOutIcon size=\"medium\" />} onClick={props.onZoomOut} />\n          <TImageViewerIcon\n            class={`${classPrefix.value}-image-viewer__utils-scale`}\n            size=\"medium\"\n            label={`${props.scale * 100}%`}\n          />\n          <TImageViewerIcon icon={() => <ZoomInIcon size=\"medium\" />} onClick={props.onZoomIn} />\n          <TToolTip\n            overlayClassName={`${classPrefix.value}-image-viewer__utils--tip`}\n            content=\"原始大小\"\n            destroyOnClose\n            placement=\"top\"\n            showArrow\n            theme=\"default\"\n          >\n            <div class={`${classPrefix.value}-image-viewer__modal-icon`}>\n              <TImageViewerIcon icon={() => <ImageIcon size=\"medium\" />} onClick={props.onReset} />\n            </div>\n          </TToolTip>\n          {props.currentImage.download && (\n            <TImageViewerIcon\n              icon={() => <DownloadIcon size=\"medium\" />}\n              onClick={() => {\n                downloadFile(props.currentImage.mainImage);\n              }}\n            />\n          )}\n        </div>\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","scale","Number","onRotate","Function","onZoomIn","onZoomOut","onMirror","onReset","currentImage","type","Object","setup","classPrefix","usePrefixClass","_createVNode","value","TToolTip","download","downloadFile","mainImage"],"mappings":"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"}