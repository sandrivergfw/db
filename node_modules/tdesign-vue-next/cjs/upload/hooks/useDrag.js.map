{"version":3,"file":"useDrag.js","sources":["../../../src/upload/hooks/useDrag.ts"],"sourcesContent":["import { ref } from 'vue';\nimport { TdUploadProps } from '../type';\n\nexport interface UploadDragEvents {\n  onDragFileChange?: (e: DragEvent) => void;\n  onDragenter?: TdUploadProps['onDragenter'];\n  onDragleave?: TdUploadProps['onDragleave'];\n  onDrop?: TdUploadProps['onDrop'];\n}\n\nexport default function useDrag(props: UploadDragEvents) {\n  const target = ref(null);\n  const dragActive = ref(false);\n\n  const handleDrop = (event: DragEvent) => {\n    event.preventDefault();\n    props.onDragFileChange?.(event);\n    props.onDrop?.({ e: event });\n    dragActive.value = false;\n  };\n\n  const handleDragenter = (event: DragEvent) => {\n    event.preventDefault();\n    target.value = event.target;\n    props.onDragenter?.({ e: event });\n    dragActive.value = true;\n  };\n\n  const handleDragleave = (event: DragEvent) => {\n    if (event.target !== target.value) return;\n    event.preventDefault();\n    props.onDragleave?.({ e: event });\n    dragActive.value = false;\n  };\n\n  const handleDragover = (event: DragEvent) => {\n    event.preventDefault();\n  };\n\n  return {\n    target,\n    dragActive,\n    handleDrop,\n    handleDragenter,\n    handleDragleave,\n    handleDragover,\n  };\n}\n"],"names":["useDrag","props","target","ref","dragActive","handleDrop","event","preventDefault","onDragFileChange","onDrop","e","value","handleDragenter","onDragenter","handleDragleave","onDragleave","handleDragover"],"mappings":";;;;;;;;;;;;AAUA,SAAwBA,QAAQC,KAAyB,EAAA;AACjD,EAAA,IAAAC,MAAA,GAASC,QAAI,IAAI,CAAA,CAAA;AACjB,EAAA,IAAAC,UAAA,GAAaD,QAAI,KAAK,CAAA,CAAA;AAEtB,EAAA,IAAAE,UAAA,GAAa,SAAbA,UAAA,CAAcC,KAAqB,EAAA;AAAA,IAAA,IAAA,qBAAA,EAAA,aAAA,CAAA;IACvCA,KAAA,CAAMC,cAAe,EAAA,CAAA;IACrB,CAAAN,qBAAAA,GAAAA,KAAA,CAAMO,0EAAN,2BAAAP,KAAA,EAAyBK,KAAK,CAAA,CAAA;AAC9B,IAAA,CAAA,aAAA,GAAAL,KAAA,CAAMQ,MAAS,MAAf,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,aAAA,CAAA,IAAA,CAAAR,KAAA,EAAe;AAAES,MAAAA,CAAG,EAAAJ,KAAAA;AAAM,KAAC,CAAA,CAAA;IAC3BF,UAAA,CAAWO,KAAQ,GAAA,KAAA,CAAA;GACrB,CAAA;AAEM,EAAA,IAAAC,eAAA,GAAkB,SAAlBA,eAAA,CAAmBN,KAAqB,EAAA;AAAA,IAAA,IAAA,kBAAA,CAAA;IAC5CA,KAAA,CAAMC,cAAe,EAAA,CAAA;AACrBL,IAAAA,MAAA,CAAOS,QAAQL,KAAM,CAAAJ,MAAA,CAAA;AACrB,IAAA,CAAA,kBAAA,GAAAD,KAAA,CAAMY,WAAc,MAApB,IAAA,IAAA,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,kBAAA,CAAA,IAAA,CAAAZ,KAAA,EAAoB;AAAES,MAAAA,CAAG,EAAAJ,KAAAA;AAAM,KAAC,CAAA,CAAA;IAChCF,UAAA,CAAWO,KAAQ,GAAA,IAAA,CAAA;GACrB,CAAA;AAEM,EAAA,IAAAG,eAAA,GAAkB,SAAlBA,eAAA,CAAmBR,KAAqB,EAAA;AAAA,IAAA,IAAA,kBAAA,CAAA;AACxC,IAAA,IAAAA,KAAA,CAAMJ,WAAWA,MAAO,CAAAS,KAAA,EAAO,OAAA;IACnCL,KAAA,CAAMC,cAAe,EAAA,CAAA;AACrB,IAAA,CAAA,kBAAA,GAAAN,KAAA,CAAMc,WAAc,MAApB,IAAA,IAAA,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,kBAAA,CAAA,IAAA,CAAAd,KAAA,EAAoB;AAAES,MAAAA,CAAG,EAAAJ,KAAAA;AAAM,KAAC,CAAA,CAAA;IAChCF,UAAA,CAAWO,KAAQ,GAAA,KAAA,CAAA;GACrB,CAAA;AAEM,EAAA,IAAAK,cAAA,GAAiB,SAAjBA,cAAA,CAAkBV,KAAqB,EAAA;IAC3CA,KAAA,CAAMC,cAAe,EAAA,CAAA;GACvB,CAAA;EAEO,OAAA;AACLL,IAAAA,MAAA,EAAAA,MAAA;AACAE,IAAAA,UAAA,EAAAA,UAAA;AACAC,IAAAA,UAAA,EAAAA,UAAA;AACAO,IAAAA,eAAA,EAAAA,eAAA;AACAE,IAAAA,eAAA,EAAAA,eAAA;AACAE,IAAAA,cAAA,EAAAA,cAAAA;GACF,CAAA;AACF;;;;"}