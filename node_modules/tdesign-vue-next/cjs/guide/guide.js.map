{"version":3,"file":"guide.js","sources":["../../src/guide/guide.tsx"],"sourcesContent":["import { defineComponent, computed, nextTick, onMounted, ref, toRefs, watch } from 'vue';\n\nimport props from './props';\n\nimport { TdGuideProps, GuideCrossProps } from './type';\n\nimport { scrollToParentVisibleArea, getRelativePosition, getTargetElm, scrollToElm } from './utils';\n\nimport setStyle from '../_common/js/utils/set-style';\n\nimport TransferDom from '../utils/transfer-dom';\nimport { addClass, removeClass, isFixed, getWindowScroll } from '../utils/dom';\n\nimport useVModel from '../hooks/useVModel';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nimport Button from '../button';\nimport Popup from '../popup';\n\nexport default defineComponent({\n  name: 'TGuide',\n  directives: { TransferDom },\n  props,\n  setup(props) {\n    const renderTNodeJSX = useTNodeJSX();\n    const COMPONENT_NAME = usePrefixClass('guide');\n    const LOCK_CLASS = usePrefixClass('guide--lock');\n\n    const { current, modelValue, hideCounter, hidePrev, hideSkip, steps, zIndex } = toRefs(props);\n    const [innerCurrent, setInnerCurrent] = useVModel(\n      current,\n      modelValue,\n      props.defaultCurrent,\n      props.onChange,\n      'current',\n    );\n\n    // 覆盖层，用于覆盖所有元素\n    const overlayLayerRef = ref<HTMLElement>();\n    // 高亮层，用于高亮元素\n    const highlightLayerRef = ref<HTMLElement>();\n    // 提示层，用于高亮元素\n    const referenceLayerRef = ref<HTMLElement>();\n    // 当前高亮的元素\n    const currentHighlightLayerElm = ref<HTMLElement>();\n    // 下一个高亮的元素\n    const nextHighlightLayerElm = ref<HTMLElement>();\n    // dialog wrapper ref\n    const dialogWrapperRef = ref<HTMLElement>();\n    // dialog ref\n    const dialogTooltipRef = ref<HTMLElement>();\n    // 是否开始展示\n    const actived = ref<boolean>(false);\n    // 步骤总数\n    const stepsTotal = computed(() => steps.value.length);\n    // 当前步骤的信息\n    const currentStepInfo = computed(() => steps.value[innerCurrent.value]);\n    // 当前是否为 popup\n    const isPopup = computed(() => getCurrentCrossProps('mode') === 'popup');\n    // 当前元素位置状态\n    const currentElmIsFixed = computed(() => isFixed(currentHighlightLayerElm.value || document.body));\n    // 获取当前步骤的所有属性 用户当前步骤设置 > 用户全局设置的 > 默认值\n    const getCurrentCrossProps = <Key extends keyof GuideCrossProps>(propsName: Key) =>\n      currentStepInfo.value[propsName] ?? props[propsName];\n\n    // 设置高亮层的位置\n    const setHighlightLayerPosition = (highlighLayer: HTMLElement) => {\n      let { top, left } = getRelativePosition(nextHighlightLayerElm.value, currentHighlightLayerElm.value);\n      let { width, height } = nextHighlightLayerElm.value.getBoundingClientRect();\n      const highlightPadding = getCurrentCrossProps('highlightPadding');\n\n      if (isPopup.value) {\n        width += highlightPadding * 2;\n        height += highlightPadding * 2;\n        top -= highlightPadding;\n        left -= highlightPadding;\n      } else {\n        const { scrollTop, scrollLeft } = getWindowScroll();\n        top += scrollTop;\n        left += scrollLeft;\n      }\n\n      setStyle(highlighLayer, {\n        width: `${width}px`,\n        height: `${height}px`,\n        top: `${top}px`,\n        left: `${left}px`,\n      });\n    };\n\n    const showPopupGuide = () => {\n      const currentElement = getTargetElm(currentStepInfo.value.element);\n      nextHighlightLayerElm.value = currentElement;\n\n      nextTick(() => {\n        scrollToParentVisibleArea(nextHighlightLayerElm.value);\n        setHighlightLayerPosition(highlightLayerRef.value);\n        setHighlightLayerPosition(referenceLayerRef.value);\n        scrollToElm(nextHighlightLayerElm.value);\n        currentHighlightLayerElm.value = currentElement;\n      });\n    };\n\n    const destroyTooltipElm = () => {\n      referenceLayerRef.value?.parentNode.removeChild(referenceLayerRef.value);\n    };\n\n    const showDialogGuide = () => {\n      nextTick(() => {\n        const currentElement = dialogTooltipRef.value;\n        nextHighlightLayerElm.value = currentElement;\n        scrollToParentVisibleArea(nextHighlightLayerElm.value);\n        setHighlightLayerPosition(highlightLayerRef.value);\n        scrollToElm(nextHighlightLayerElm.value);\n        currentHighlightLayerElm.value = currentElement;\n      });\n    };\n\n    const destroyDialogTooltipElm = () => {\n      dialogTooltipRef.value?.parentNode.removeChild(dialogTooltipRef.value);\n      dialogWrapperRef.value?.parentNode.removeChild(dialogWrapperRef.value);\n    };\n\n    const showGuide = () => {\n      if (isPopup.value) {\n        destroyDialogTooltipElm();\n        showPopupGuide();\n      } else {\n        destroyTooltipElm();\n        showDialogGuide();\n      }\n    };\n\n    const destroyGuide = () => {\n      destroyTooltipElm();\n      destroyDialogTooltipElm();\n      highlightLayerRef.value?.parentNode.removeChild(highlightLayerRef.value);\n      overlayLayerRef.value?.parentNode.removeChild(overlayLayerRef.value);\n      removeClass(document.body, LOCK_CLASS.value);\n    };\n\n    const handleSkip = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      actived.value = false;\n      setInnerCurrent(-1, { e, total });\n      props.onSkip?.({ e, current: -1, total });\n    };\n\n    const handlePrev = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      setInnerCurrent(innerCurrent.value - 1, { e, total });\n      props.onPrevStepClick?.({\n        e,\n        prev: innerCurrent.value - 1,\n        current: innerCurrent.value,\n        total,\n      });\n    };\n\n    const handleNext = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      setInnerCurrent(innerCurrent.value + 1, { e, total });\n      props.onNextStepClick?.({\n        e,\n        next: innerCurrent.value + 1,\n        current: innerCurrent.value,\n        total,\n      });\n    };\n\n    const handleFinish = (e: MouseEvent) => {\n      const total = stepsTotal.value;\n      actived.value = false;\n      setInnerCurrent(-1, { e, total });\n      props.onFinish?.({ e, current: -1, total });\n    };\n\n    const initGuide = () => {\n      if (innerCurrent.value >= 0 && innerCurrent.value < steps.value.length) {\n        if (!actived.value) {\n          actived.value = true;\n          addClass(document.body, LOCK_CLASS.value);\n        }\n        showGuide();\n      }\n    };\n\n    watch(innerCurrent, (val) => {\n      if (val >= 0 && val < steps.value.length) {\n        initGuide();\n      } else {\n        actived.value = false;\n        destroyGuide();\n      }\n    });\n\n    onMounted(() => {\n      initGuide();\n    });\n\n    return () => {\n      const renderOverlayLayer = () => (\n        <div\n          ref={overlayLayerRef}\n          v-transfer-dom=\"body\"\n          class={`${COMPONENT_NAME.value}__overlay`}\n          style={{ zIndex: zIndex.value - 2 }}\n        />\n      );\n\n      const renderHighlightLayer = () => {\n        const style = { zIndex: zIndex.value - 1 };\n        const highlightClass = [\n          `${COMPONENT_NAME.value}__highlight`,\n          `${COMPONENT_NAME.value}__highlight--${isPopup.value ? 'popup' : 'dialog'}`,\n          `${COMPONENT_NAME.value}--${currentElmIsFixed.value && isPopup.value ? 'fixed' : 'absolute'}`,\n        ];\n        const showOverlay = getCurrentCrossProps('showOverlay');\n        const maskClass = [`${COMPONENT_NAME.value}__highlight--${showOverlay ? 'mask' : 'nomask'}`];\n        const { highlightContent } = currentStepInfo.value;\n        const showHighlightContent = highlightContent && isPopup.value;\n\n        return (\n          <div\n            ref={highlightLayerRef}\n            v-transfer-dom=\"body\"\n            class={highlightClass.concat(showHighlightContent ? highlightClass : maskClass)}\n            style={style}\n          >\n            {showHighlightContent && <highlightContent class={highlightClass.concat(maskClass)} style={style} />}\n          </div>\n        );\n      };\n\n      const renderCounter = () => {\n        const popupSlotCounter = renderTNodeJSX('counter', {\n          params: { total: stepsTotal.value, current: innerCurrent.value },\n        });\n\n        const popupDefaultCounter = (\n          <div class={`${COMPONENT_NAME.value}__counter`}>\n            {popupSlotCounter || (\n              <span>\n                {innerCurrent.value + 1}/{stepsTotal.value}\n              </span>\n            )}\n          </div>\n        );\n        return <>{!hideCounter.value && popupDefaultCounter}</>;\n      };\n\n      const renderAction = (mode: TdGuideProps['mode']) => {\n        const isLast = innerCurrent.value === stepsTotal.value - 1;\n        const isFirst = innerCurrent.value === 0;\n        const buttonSize = mode === 'popup' ? 'small' : 'medium';\n\n        return (\n          <div class={`${COMPONENT_NAME.value}__action`}>\n            {!hideSkip.value && !isLast && (\n              <Button\n                class={`${COMPONENT_NAME.value}__skip`}\n                theme=\"default\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handleSkip}\n                {...getCurrentCrossProps('skipButtonProps')}\n              />\n            )}\n            {!hidePrev.value && !isFirst && (\n              <Button\n                class={`${COMPONENT_NAME.value}__prev`}\n                theme=\"primary\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handlePrev}\n                {...getCurrentCrossProps('prevButtonProps')}\n              />\n            )}\n            {!isLast && (\n              <Button\n                class={`${COMPONENT_NAME.value}__next`}\n                theme=\"primary\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handleNext}\n                {...getCurrentCrossProps('nextButtonProps')}\n              />\n            )}\n            {isLast && (\n              <Button\n                class={`${COMPONENT_NAME.value}__finish`}\n                theme=\"primary\"\n                size={buttonSize}\n                variant=\"base\"\n                onClick={handleFinish}\n                {...props.finishButtonProps}\n              />\n            )}\n          </div>\n        );\n      };\n\n      const renderTooltipBody = () => {\n        const title = <div class={`${COMPONENT_NAME.value}__title`}>{currentStepInfo.value.title}</div>;\n        const { body: descBody } = currentStepInfo.value;\n        let renderDesc;\n        if (typeof descBody === 'string') {\n          renderDesc = descBody;\n        } else {\n          renderDesc = <descBody />;\n        }\n        const desc = (\n          <div class={`${COMPONENT_NAME.value}__desc`}>{typeof descBody === 'string' ? descBody : <descBody />}</div>\n        );\n\n        return (\n          <>\n            {title}\n            {desc}\n          </>\n        );\n      };\n\n      const renderPopupContent = () => {\n        const footerClasses = [`${COMPONENT_NAME.value}__footer`, `${COMPONENT_NAME.value}__footer--popup`];\n        const action = (\n          <div class={footerClasses}>\n            {renderCounter()}\n            {renderAction('popup')}\n          </div>\n        );\n\n        return (\n          <div class={`${COMPONENT_NAME.value}__tooltip`}>\n            {renderTooltipBody()}\n            {action}\n          </div>\n        );\n      };\n\n      const renderPopupGuide = () => {\n        const { content } = currentStepInfo.value;\n        let renderBody;\n        if (content) {\n          const contentProps = {\n            handlePrev,\n            handleNext,\n            handleSkip,\n            handleFinish,\n            current: innerCurrent.value,\n            total: stepsTotal.value,\n          };\n          renderBody = () => <content {...contentProps} />;\n        } else {\n          renderBody = renderPopupContent;\n        }\n\n        const classes = [\n          `${COMPONENT_NAME.value}__reference`,\n          `${COMPONENT_NAME.value}--${currentElmIsFixed.value ? 'fixed' : 'absolute'}`,\n        ];\n\n        return (\n          <Popup\n            visible={true}\n            v-slots={{ content: renderBody }}\n            show-arrow={!content}\n            zIndex={zIndex.value}\n            overlayClassName={currentStepInfo.value.stepOverlayClass}\n            overlayInnerClassName={{ [`${COMPONENT_NAME.value}__popup--content`]: !!content }}\n            placement={currentStepInfo.value.placement}\n          >\n            <div ref={referenceLayerRef} v-transfer-dom=\"body\" class={classes} />\n          </Popup>\n        );\n      };\n\n      const renderDialogGuide = () => {\n        const style = { zIndex: zIndex.value };\n        const wrapperClasses = [\n          `${COMPONENT_NAME.value}__wrapper`,\n          { [`${COMPONENT_NAME.value}__wrapper--center`]: currentStepInfo.value.placement === 'center' },\n        ];\n        const dialogClasses = [\n          `${COMPONENT_NAME.value}__reference`,\n          `${COMPONENT_NAME.value}--absolute`,\n          `${COMPONENT_NAME.value}__dialog`,\n          {\n            [`${COMPONENT_NAME.value}__dialog--nomask`]: !getCurrentCrossProps('showOverlay'),\n            [currentStepInfo.value.stepOverlayClass]: !!currentStepInfo.value.stepOverlayClass,\n          },\n        ];\n        const footerClasses = [`${COMPONENT_NAME.value}__footer`, `${COMPONENT_NAME.value}__footer--popup`];\n        return (\n          <>\n            <div ref={dialogWrapperRef} v-transfer-dom=\"body\" class={wrapperClasses} style={style}>\n              <div ref={dialogTooltipRef} class={dialogClasses}>\n                {renderTooltipBody()}\n                <div class={footerClasses}>\n                  {renderCounter()}\n                  {renderAction('dialog')}\n                </div>\n              </div>\n            </div>\n          </>\n        );\n      };\n\n      const renderGuide = () => {\n        return (\n          <>\n            {renderOverlayLayer()}\n            {renderHighlightLayer()}\n            {isPopup.value ? renderPopupGuide() : renderDialogGuide()}\n          </>\n        );\n      };\n\n      return <>{actived.value && renderGuide()}</>;\n    };\n  },\n});\n"],"names":["defineComponent","name","directives","TransferDom","props","setup","renderTNodeJSX","useTNodeJSX","COMPONENT_NAME","usePrefixClass","LOCK_CLASS","toRefs","current","modelValue","hideCounter","hidePrev","hideSkip","steps","zIndex","useVModel","defaultCurrent","onChange","_slicedToArray","innerCurrent","setInnerCurrent","overlayLayerRef","ref","highlightLayerRef","referenceLayerRef","currentHighlightLayerElm","nextHighlightLayerElm","dialogWrapperRef","dialogTooltipRef","actived","stepsTotal","computed","value","length","currentStepInfo","isPopup","getCurrentCrossProps","currentElmIsFixed","isFixed","document","body","propsName","setHighlightLayerPosition","highlighLayer","getRelativePosition","top","left","getBoundingClientRect","width","height","highlightPadding","getWindowScroll","scrollTop","scrollLeft","setStyle","showPopupGuide","currentElement","getTargetElm","element","nextTick","scrollToParentVisibleArea","scrollToElm","destroyTooltipElm","parentNode","removeChild","showDialogGuide","destroyDialogTooltipElm","showGuide","destroyGuide","removeClass","handleSkip","e","total","onSkip","handlePrev","onPrevStepClick","prev","handleNext","onNextStepClick","next","handleFinish","onFinish","initGuide","addClass","watch","val","onMounted","renderOverlayLayer","_resolveDirective","renderHighlightLayer","style","highlightClass","showOverlay","maskClass","highlightContent","showHighlightContent","_withDirectives","_createVNode","concat","renderCounter","popupSlotCounter","params","popupDefaultCounter","_Fragment","renderAction","mode","isLast","isFirst","buttonSize","Button","_mergeProps","finishButtonProps","renderTooltipBody","title","descBody","renderDesc","desc","renderPopupContent","footerClasses","action","renderPopupGuide","content","renderBody","contentProps","classes","Popup","stepOverlayClass","placement","renderDialogGuide","wrapperClasses","dialogClasses","renderGuide"],"mappings":"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"}