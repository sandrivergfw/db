{"version":3,"file":"td-tree.js","sources":["../../src/tree/td-tree.tsx"],"sourcesContent":["import { computed, defineComponent, TransitionGroup, provide } from 'vue';\n\nimport props from './props';\nimport { useConfig } from '../hooks/useConfig';\nimport { useTNodeDefault } from '../hooks/tnode';\nimport { useCLASSNAMES, injectKey } from './constants';\nimport useTree from './useTree';\nimport useExposeFunc from './hooks/useExposeFunc';\n\nexport default defineComponent({\n  name: 'TTree',\n  props,\n  setup(props, { expose, slots }) {\n    const { globalConfig, t } = useConfig('tree');\n    const CLASS_NAMES = useCLASSNAMES();\n    const renderTNodeJSX = useTNodeDefault();\n\n    // 向子组件传递的状态\n    const statusContext = computed(() => {\n      const { checkProps, empty, icon, label, line, disableCheck, operations } = props;\n      return {\n        checkProps,\n        empty,\n        icon,\n        label,\n        line,\n        disableCheck,\n        operations,\n        scopedSlots: slots,\n      };\n    });\n    provide(injectKey, statusContext);\n\n    // tree核心逻辑\n    const { treeStore, treeNodeViews } = useTree(props);\n\n    // 导出方法\n    useExposeFunc(treeStore, expose);\n\n    const classList = computed(() => [\n      CLASS_NAMES.value.tree,\n      {\n        [CLASS_NAMES.value.disabled]: props.disabled,\n        [CLASS_NAMES.value.treeHoverAble]: props.hover,\n        [CLASS_NAMES.value.treeCheckable]: props.checkable,\n        [CLASS_NAMES.value.treeTransition]: props.transition,\n        [CLASS_NAMES.value.treeBlockNode]: props.expandOnClickNode,\n      },\n    ]);\n\n    return () => (\n      <div class={classList.value}>\n        {treeNodeViews.value.length === 0 ? (\n          <div class={CLASS_NAMES.value.treeEmpty}>\n            {renderTNodeJSX('empty', {\n              defaultNode: t(globalConfig.value.empty),\n            })}\n          </div>\n        ) : (\n          <TransitionGroup\n            name={CLASS_NAMES.value.treeNodeToggle}\n            tag=\"div\"\n            enter-active-class={CLASS_NAMES.value.treeNodeEnter}\n            leave-active-class={CLASS_NAMES.value.treeNodeLeave}\n          >\n            {treeNodeViews.value}\n          </TransitionGroup>\n        )}\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","setup","expose","slots","useConfig","globalConfig","t","CLASS_NAMES","useCLASSNAMES","renderTNodeJSX","useTNodeDefault","statusContext","computed","checkProps","empty","icon","label","line","disableCheck","operations","scopedSlots","provide","injectKey","useTree","treeStore","treeNodeViews","useExposeFunc","classList","value","tree","_defineProperty","disabled","treeHoverAble","hover","treeCheckable","checkable","treeTransition","transition","treeBlockNode","expandOnClickNode","_createVNode","length","treeEmpty","defaultNode","TransitionGroup","treeNodeToggle","treeNodeEnter","treeNodeLeave"],"mappings":"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"}