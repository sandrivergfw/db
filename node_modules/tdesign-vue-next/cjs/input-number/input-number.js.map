{"version":3,"file":"input-number.js","sources":["../../src/input-number/input-number.tsx"],"sourcesContent":["import { defineComponent, SetupContext } from 'vue';\nimport {\n  AddIcon as TdAddIcon,\n  RemoveIcon as TdRemoveIcon,\n  ChevronDownIcon as TdChevronDownIcon,\n  ChevronUpIcon as TdChevronUpIcon,\n} from 'tdesign-icons-vue-next';\nimport TButton from '../button';\nimport TInput from '../input';\nimport props from './props';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\n\nimport { TdInputNumberProps } from './type';\nimport useInputNumber from './useInputNumber';\n\nexport default defineComponent({\n  name: 'TInputNumber',\n  props,\n  // 保持纯净（逻辑和节点渲染分开）\n  setup(props: TdInputNumberProps, context: SetupContext) {\n    const { AddIcon, RemoveIcon, ChevronDownIcon, ChevronUpIcon } = useGlobalIcon({\n      AddIcon: TdAddIcon,\n      RemoveIcon: TdRemoveIcon,\n      ChevronDownIcon: TdChevronDownIcon,\n      ChevronUpIcon: TdChevronUpIcon,\n    });\n    const p = useInputNumber(props);\n    const { inputRef } = p;\n\n    context.expose({ ...p });\n\n    return () => {\n      const reduceIcon =\n        props.theme === 'column' ? <ChevronDownIcon size={props.size} /> : <RemoveIcon size={props.size} />;\n      const addIcon = props.theme === 'column' ? <ChevronUpIcon size={props.size} /> : <AddIcon size={props.size} />;\n      const status = p.isError.value ? 'error' : props.status;\n      return (\n        <div class={p.wrapClasses.value}>\n          {props.theme !== 'normal' && (\n            <TButton\n              class={p.reduceClasses.value}\n              disabled={p.tDisabled.value}\n              onClick={p.handleReduce}\n              variant=\"outline\"\n              shape=\"square\"\n              icon={() => reduceIcon}\n            />\n          )}\n          <TInput\n            ref={inputRef}\n            disabled={p.tDisabled.value}\n            readonly={props.readonly}\n            autocomplete=\"off\"\n            placeholder={props.placeholder}\n            unselectable={props.readonly ? 'on' : 'off'}\n            autoWidth={props.autoWidth}\n            align={props.align || (props.theme === 'row' ? 'center' : undefined)}\n            status={status}\n            label={props.label}\n            suffix={props.suffix}\n            {...p.listeners}\n            {...props.inputProps}\n            v-slots={context.slots}\n            value={p.userInput.value}\n            onChange={p.onInnerInputChange}\n          />\n          {props.theme !== 'normal' && (\n            <TButton\n              class={p.addClasses.value}\n              disabled={p.tDisabled.value}\n              onClick={p.handleAdd}\n              variant=\"outline\"\n              shape=\"square\"\n              icon={() => addIcon}\n            />\n          )}\n          {props.tips && (\n            <div class={`${p.classPrefix.value}-input__tips ${p.classPrefix.value}-input__tips--${status}`}>\n              {props.tips}\n            </div>\n          )}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","context","useGlobalIcon","AddIcon","TdAddIcon","RemoveIcon","TdRemoveIcon","ChevronDownIcon","TdChevronDownIcon","ChevronUpIcon","TdChevronUpIcon","p","useInputNumber","inputRef","expose","reduceIcon","theme","_createVNode","size","addIcon","status","isError","value","wrapClasses","TButton","reduceClasses","tDisabled","handleReduce","TInput","_mergeProps","readonly","placeholder","autoWidth","align","label","suffix","listeners","inputProps","userInput","onInnerInputChange","slots","addClasses","handleAdd","tips","classPrefix"],"mappings":"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"}