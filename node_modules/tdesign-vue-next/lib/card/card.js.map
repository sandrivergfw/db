{"version":3,"file":"card.js","sources":["../../src/card/card.tsx"],"sourcesContent":["import { defineComponent, computed, ref } from 'vue';\n\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport TLoading from '../loading';\nimport props from './props';\n\nexport default defineComponent({\n  name: 'TCard',\n  props,\n  setup(props, { slots }) {\n    const renderTNodeJSX = useTNodeJSX();\n    const COMPONENT_NAME = usePrefixClass('card');\n    const { SIZE } = useCommonClassName();\n\n    const baseCls = computed(() => {\n      const defaultClass = [COMPONENT_NAME.value];\n\n      if (props.size === 'small') defaultClass.push(`${SIZE.value[props.size]}`);\n      if (props.bordered) defaultClass.push(`${COMPONENT_NAME.value}--bordered`);\n      if (props.shadow) defaultClass.push(`${COMPONENT_NAME.value}--shadow`);\n      if (props.hoverShadow) defaultClass.push(`${COMPONENT_NAME.value}--shadow-hover`);\n\n      return defaultClass;\n    });\n\n    const headerCls = computed(() => {\n      const defaultClass = [`${COMPONENT_NAME.value}__header`];\n      return props.headerBordered\n        ? defaultClass.concat(`${COMPONENT_NAME.value}__title--bordered`)\n        : [`${COMPONENT_NAME.value}__header`];\n    });\n\n    const headerWrapperCls = usePrefixClass('card__header-wrapper');\n    const headerAvatarCls = usePrefixClass('card__avatar');\n    const headerTitleCls = usePrefixClass('card__title');\n    const headerSubTitleCls = usePrefixClass('card__subtitle');\n    const headerDescriptionCls = usePrefixClass('card__description');\n    const actionsCls = usePrefixClass('card__actions');\n\n    const bodyCls = usePrefixClass('card__body');\n    const coverCls = usePrefixClass('card__cover');\n    const footerCls = usePrefixClass('card__footer');\n    const footerWrapperCls = usePrefixClass('card__footer-wrapper');\n\n    // 卡片风格：普通风格、海报风格1（操作区域在顶部）、海报风格2（操作区域在底部）。\n    // 可选项：normal/poster1/poster2\n    const isPoster2 = computed(() => props.theme === 'poster2');\n\n    const showTitle = computed(() => props.title || slots.title);\n    const showHeader = computed(() => props.header || slots.header);\n    const showSubtitle = computed(() => props.subtitle || slots.subtitle);\n    const showAvatar = computed(() => props.avatar || slots.avatar);\n    const showDescription = computed(() => props.description || slots.description);\n    const showStatus = computed(() => props.status || slots.status);\n    const showActions = computed(() => props.actions || slots.actions);\n    const showFooter = computed(() => props.footer || slots.footer);\n    const showCover = computed(() => props.cover || slots.cover);\n    const showLoading = computed(() => props.loading || slots.loading);\n    const showContent = computed(() => props.content || slots.content || props.default || slots.default);\n\n    // 是否展示头部区域\n    const isHeaderRender = computed(\n      () =>\n        showHeader.value ||\n        showTitle.value ||\n        showSubtitle.value ||\n        showDescription.value ||\n        showAvatar.value ||\n        (showStatus.value && isPoster2.value) ||\n        (showActions.value && !isPoster2.value),\n    );\n\n    // 是否展示底部区域\n    const isFooterRender = computed(() => showFooter.value || (showActions.value && isPoster2.value));\n\n    // 头部区域渲染逻辑\n    const renderHeader = () => {\n      if (showHeader.value) return <div class={headerCls.value}>{renderTNodeJSX('header')}</div>;\n      return (\n        <div class={headerCls.value}>\n          <div class={headerWrapperCls.value}>\n            {showAvatar.value && <div class={headerAvatarCls.value}>{renderTNodeJSX('avatar')}</div>}\n            <div>\n              {showTitle.value && <span class={headerTitleCls.value}>{renderTNodeJSX('title')}</span>}\n              {showSubtitle.value && <span class={headerSubTitleCls.value}>{renderTNodeJSX('subtitle')}</span>}\n              {showDescription.value && <p class={headerDescriptionCls.value}>{renderTNodeJSX('description')}</p>}\n            </div>\n          </div>\n          {showActions.value && !isPoster2.value && <div class={actionsCls.value}>{renderTNodeJSX('actions')}</div>}\n          {showStatus.value && <div class={actionsCls.value}>{renderTNodeJSX('status')}</div>}\n        </div>\n      );\n    };\n\n    // 封面区域渲染逻辑\n    const renderCover = () => {\n      const textCover = typeof props.cover === 'string';\n      return <div class={coverCls.value}>{textCover ? <img src={props.cover}></img> : renderTNodeJSX('cover')}</div>;\n    };\n\n    return () => {\n      const content = (\n        <div class={baseCls.value}>\n          {isHeaderRender.value ? renderHeader() : null}\n          {showCover.value ? renderCover() : null}\n          {showContent.value && (\n            <div class={bodyCls.value}>{renderTNodeJSX('default') || renderTNodeJSX('content')}</div>\n          )}\n          {isFooterRender.value && (\n            <div class={footerCls.value}>\n              <div class={footerWrapperCls.value}>{renderTNodeJSX('footer')}</div>\n              {showActions.value && isPoster2.value && <div class={actionsCls.value}>{renderTNodeJSX('actions')}</div>}\n            </div>\n          )}\n        </div>\n      );\n\n      if (showLoading.value) {\n        return renderTNodeJSX('loading') || <TLoading>{content}</TLoading>;\n      }\n      return content;\n    };\n  },\n});\n"],"names":["_isVNode","defineComponent","name","props","setup","slots","renderTNodeJSX","useTNodeJSX","COMPONENT_NAME","usePrefixClass","useCommonClassName","SIZE","baseCls","computed","defaultClass","value","size","push","bordered","shadow","hoverShadow","headerCls","headerBordered","concat","headerWrapperCls","headerAvatarCls","headerTitleCls","headerSubTitleCls","headerDescriptionCls","actionsCls","bodyCls","coverCls","footerCls","footerWrapperCls","isPoster2","theme","showTitle","title","showHeader","header","showSubtitle","subtitle","showAvatar","avatar","showDescription","description","showStatus","status","showActions","actions","showFooter","footer","showCover","cover","showLoading","loading","showContent","content","isHeaderRender","isFooterRender","renderHeader","_createVNode","renderCover","textCover"],"mappings":"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"}