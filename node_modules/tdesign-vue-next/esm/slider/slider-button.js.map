{"version":3,"file":"slider-button.js","sources":["../../src/slider/slider-button.tsx"],"sourcesContent":["import {\n  PropType,\n  defineComponent,\n  ComponentPublicInstance,\n  ref,\n  computed,\n  reactive,\n  nextTick,\n  watchEffect,\n  inject,\n  toRefs,\n} from 'vue';\nimport TTooltip from '../tooltip/index';\nimport { TdSliderProps } from './type';\n\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useSliderTooltip } from './hooks/useSliderTooltip';\nimport { sliderPropsInjectKey } from './util/constants';\n\nexport default defineComponent({\n  name: 'TSliderButton',\n  props: {\n    value: {\n      type: [Number],\n      default: 0,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    tooltipProps: {\n      type: [Boolean, Object],\n      default: true,\n    },\n    label: {\n      type: [String, Boolean, Function] as PropType<TdSliderProps['label']>,\n      default: false,\n    },\n  },\n  emits: ['input'],\n  setup(props, ctx) {\n    const COMPONENT_NAME = usePrefixClass('slider__button');\n    const tooltipConfig = computed(() => props);\n    const { tooltipRef, tooltipProps, toggleTooltip, showTooltip } = useSliderTooltip(tooltipConfig);\n    const parentProps = inject(sliderPropsInjectKey);\n    const buttonRef = ref();\n\n    /** --------------------- slide button 相关状态start ------------------- */\n    const slideButtonProps = reactive({\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      startY: 0,\n      startPos: 0,\n      newPos: null,\n    });\n\n    const rangeDiff = computed(() => {\n      return Number(parentProps.max) - Number(parentProps.min);\n    });\n\n    const currentPos = computed(() => {\n      return `${((props.value - parentProps.min) / rangeDiff.value) * 100}%`;\n    });\n\n    const step = computed(() => {\n      return parentProps.step;\n    });\n\n    const wrapperStyle = computed(() => {\n      return props.vertical ? { bottom: currentPos.value } : { left: currentPos.value };\n    });\n\n    watchEffect(() => {\n      parentProps.toggleDragging(slideButtonProps.dragging);\n    });\n    /** --------------------- slide button 相关状态end ------------------- */\n\n    /** --------------------- slide button 相关事件start ------------------- */\n    /** 设置当前位置 */\n    const setPosition = (pos: number) => {\n      let newPos = pos;\n      if (newPos === null || Number.isNaN(newPos)) {\n        return;\n      }\n\n      if (newPos > 100) {\n        newPos = 100;\n      } else if (newPos < 0) {\n        newPos = 0;\n      }\n      const perStepLen = (100 * step.value) / rangeDiff.value;\n      const steps = Math.round(newPos / perStepLen);\n      let value = steps * perStepLen * rangeDiff.value * 0.01;\n      value += parentProps.min;\n      value = Number(parseFloat(`${value}`).toFixed(parentProps.precision));\n      ctx.emit('input', value);\n      nextTick(() => {\n        tooltipRef.value && tooltipRef.value.updatePopper?.();\n      });\n    };\n\n    const handleMouseEnter = () => {\n      (buttonRef.value as ComponentPublicInstance).focus();\n      toggleTooltip(true);\n    };\n    const handleMouseLeave = () => {\n      if (!slideButtonProps.dragging) {\n        toggleTooltip(false);\n      }\n    };\n\n    const onDragStart = (event: MouseEvent | TouchEvent) => {\n      slideButtonProps.dragging = true;\n      slideButtonProps.isClick = true;\n      const { type } = event;\n      let { clientY, clientX } = event as MouseEvent;\n      if (type === 'touchstart') {\n        const touch = (event as TouchEvent).touches;\n        [clientY, clientX] = [touch[0].clientY, touch[0].clientX];\n      }\n      if (props.vertical) {\n        slideButtonProps.startY = clientY;\n      } else {\n        slideButtonProps.startX = clientX;\n      }\n      slideButtonProps.startPos = parseFloat(currentPos.value);\n      slideButtonProps.newPos = slideButtonProps.startPos;\n    };\n\n    const onDragging = (e: MouseEvent | TouchEvent) => {\n      const event = e;\n      if (!slideButtonProps.dragging) {\n        return;\n      }\n      slideButtonProps.isClick = false;\n      if (parentProps?.resetSize && typeof parentProps?.resetSize === 'function') {\n        parentProps.resetSize();\n      }\n      let diff = 0;\n      const parentSliderSize = parentProps.sliderSize;\n      if (props.vertical) {\n        diff = slideButtonProps.startY - (event as MouseEvent).clientY;\n      } else {\n        diff = (event as MouseEvent).clientX - slideButtonProps.startX;\n      }\n      diff = (diff / parentSliderSize) * 100;\n      slideButtonProps.newPos = slideButtonProps.startPos + diff;\n      setPosition(slideButtonProps.newPos);\n    };\n\n    const onDragEnd = () => {\n      if (slideButtonProps.dragging) {\n        setTimeout(() => {\n          slideButtonProps.dragging = false;\n          toggleTooltip(false);\n          if (!slideButtonProps.isClick) {\n            setPosition(slideButtonProps.newPos);\n          }\n        }, 0);\n        window.removeEventListener('mousemove', onDragging);\n        window.removeEventListener('touchmove', onDragging);\n        window.removeEventListener('mouseup', onDragEnd);\n        window.removeEventListener('touchend', onDragEnd);\n        window.removeEventListener('contextmenu', onDragEnd);\n      }\n    };\n\n    function onButtonDown(event: MouseEvent | TouchEvent) {\n      if (parentProps.disabled) {\n        return;\n      }\n      event.preventDefault();\n      onDragStart(event);\n      window.addEventListener('mousemove', onDragging);\n      window.addEventListener('mouseup', onDragEnd);\n      window.addEventListener('touchmove', onDragging);\n      window.addEventListener('touchend', onDragEnd);\n      window.addEventListener('contextmenu', onDragEnd);\n    }\n\n    const onKeyDown = (state: 'sub' | 'add') => {\n      if (parentProps.disabled) {\n        return;\n      }\n      let stepLength = (step.value / rangeDiff.value) * 100;\n      if (state === 'sub') {\n        stepLength = -stepLength;\n      }\n      slideButtonProps.newPos = parseFloat(currentPos.value) + stepLength;\n      setPosition(slideButtonProps.newPos);\n    };\n\n    const onNativeKeyDown = (e: KeyboardEvent) => {\n      const { code } = e;\n      e.preventDefault();\n      if (code === 'ArrowDown' || code === 'ArrowLeft') {\n        onKeyDown('sub');\n      }\n      if (code === 'ArrowUp' || code === 'ArrowRight') {\n        onKeyDown('add');\n      }\n    };\n    /** --------------------- slide button 相关事件end ------------------- */\n\n    /** 暴露设置按钮坐标方法供父组件调用 */\n    ctx.expose({\n      setPosition,\n    });\n\n    return () => (\n      <div\n        ref={buttonRef}\n        class={`${COMPONENT_NAME.value}-wrapper`}\n        style={wrapperStyle.value}\n        tabindex=\"0\"\n        show-tooltip={showTooltip.value}\n        disabled={parentProps.disabled}\n        onmouseenter={handleMouseEnter}\n        onmouseleave={handleMouseLeave}\n        onmousedown={onButtonDown}\n        onTouchstart={onButtonDown}\n        onfocus={handleMouseEnter}\n        onblur={handleMouseLeave}\n        onKeydown={onNativeKeyDown}\n      >\n        {showTooltip.value ? (\n          <TTooltip ref={tooltipRef} disabled={!showTooltip.value} {...tooltipProps.value}>\n            <div class={[COMPONENT_NAME.value, { [`${COMPONENT_NAME.value}--dragging`]: slideButtonProps.dragging }]} />\n          </TTooltip>\n        ) : (\n          <div\n            class={[COMPONENT_NAME.value, { [`${COMPONENT_NAME.value}--dragging`]: slideButtonProps.dragging }]}\n          ></div>\n        )}\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","value","type","Number","vertical","Boolean","tooltipProps","Object","label","String","Function","emits","setup","ctx","COMPONENT_NAME","usePrefixClass","tooltipConfig","computed","useSliderTooltip","tooltipRef","toggleTooltip","showTooltip","parentProps","inject","sliderPropsInjectKey","buttonRef","ref","slideButtonProps","reactive","dragging","isClick","startX","startY","startPos","newPos","rangeDiff","max","min","currentPos","step","wrapperStyle","bottom","left","watchEffect","toggleDragging","setPosition","pos","isNaN","perStepLen","steps","Math","round","parseFloat","toFixed","precision","emit","nextTick","updatePopper","handleMouseEnter","focus","handleMouseLeave","onDragStart","event","clientY","clientX","touch","touches","onDragging","e","resetSize","diff","parentSliderSize","sliderSize","onDragEnd","setTimeout","window","removeEventListener","onButtonDown","disabled","preventDefault","addEventListener","onKeyDown","state","stepLength","onNativeKeyDown","code","expose","_createVNode","TTooltip","_mergeProps"],"mappings":"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"}