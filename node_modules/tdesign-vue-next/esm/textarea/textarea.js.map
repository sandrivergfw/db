{"version":3,"file":"textarea.js","sources":["../../src/textarea/textarea.tsx"],"sourcesContent":["import { defineComponent, computed, watch, ref, nextTick, onMounted, toRefs, inject, StyleValue } from 'vue';\nimport props from './props';\nimport { TextareaValue, TdTextareaProps } from './type';\nimport { getCharacterLength, omit } from '../utils/helper';\nimport calcTextareaHeight from './calcTextareaHeight';\nimport { FormItemInjectionKey } from '../form/const';\n\n// hooks\nimport useVModel from '../hooks/useVModel';\nimport { useFormDisabled } from '../form/hooks';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\n\nfunction getValidAttrs(obj: object): object {\n  const newObj = {};\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] !== 'undefined') {\n      newObj[key] = obj[key];\n    }\n  });\n  return newObj;\n}\n\nexport default defineComponent({\n  name: 'TTextarea',\n  inheritAttrs: false,\n  props: { ...props },\n\n  setup(props: TdTextareaProps, { attrs, expose }) {\n    const prefix = usePrefixClass();\n    const name = usePrefixClass('textarea');\n    const TEXTAREA_TIPS_CLASS = computed(() => `${name.value}__tips`);\n    const TEXTAREA_LIMIT = computed(() => `${name.value}__limit`);\n\n    const { value, modelValue } = toRefs(props);\n    const [innerValue, setInnerValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n    const disabled = useFormDisabled();\n    const textareaStyle = ref({});\n    const computedStyle = computed(() => {\n      const { style } = attrs as { style: StyleValue };\n      return [style, textareaStyle.value];\n    });\n\n    const refTextareaElem = ref<HTMLTextAreaElement>();\n    const focused = ref(false);\n\n    const focus = () => refTextareaElem.value?.focus();\n    const blur = () => refTextareaElem.value?.blur();\n\n    // methods\n    const adjustTextareaHeight = () => {\n      if (props.autosize === true) {\n        nextTick(() => {\n          textareaStyle.value = calcTextareaHeight(refTextareaElem.value);\n        });\n      } else if (typeof props.autosize === 'object') {\n        const { minRows, maxRows } = props.autosize;\n        textareaStyle.value = calcTextareaHeight(refTextareaElem.value, minRows, maxRows);\n      } else if (attrs.rows) {\n        textareaStyle.value = { height: 'auto', minHeight: 'auto' };\n      } else if (attrs.style && refTextareaElem.value?.style?.height) {\n        textareaStyle.value = { height: refTextareaElem.value.style.height };\n      }\n    };\n\n    const setInputValue = (v: TextareaValue = '') => {\n      const textareaElem = refTextareaElem.value;\n      const sV = String(v);\n      if (!textareaElem) {\n        return;\n      }\n      if (textareaElem.value !== sV) {\n        textareaElem.value = sV;\n        innerValue.value = sV;\n      }\n    };\n    const inputValueChangeHandle = (e: InputEvent) => {\n      const { target } = e;\n      let val = (target as HTMLInputElement).value;\n      if (props.maxcharacter && props.maxcharacter >= 0) {\n        const stringInfo = getCharacterLength(val, props.maxcharacter);\n        val = typeof stringInfo === 'object' && stringInfo.characters;\n      }\n      setInnerValue(val, { e });\n      nextTick(() => setInputValue(val));\n      adjustTextareaHeight();\n    };\n\n    const handleInput = (e: any) => {\n      if (e.isComposing || e.inputType === 'insertCompositionText') return;\n      inputValueChangeHandle(e);\n    };\n    const onCompositionend = (e: InputEvent | CompositionEvent) => {\n      inputValueChangeHandle(e as InputEvent);\n    };\n\n    const eventDeal = (name: 'keydown' | 'keyup' | 'keypress' | 'change', e: KeyboardEvent | FocusEvent) => {\n      if (disabled.value) return;\n      const _name = `on${name[0].toUpperCase()}${name.slice(1)}`;\n      props[_name]?.(innerValue.value, { e });\n    };\n\n    const emitKeyDown = (e: KeyboardEvent) => {\n      eventDeal('keydown', e);\n    };\n    const emitKeyUp = (e: KeyboardEvent) => {\n      eventDeal('keyup', e);\n    };\n    const emitKeypress = (e: KeyboardEvent) => {\n      eventDeal('keypress', e);\n    };\n\n    const emitFocus = (e: FocusEvent) => {\n      adjustTextareaHeight();\n      if (disabled.value) return;\n      focused.value = true;\n      props.onFocus?.(innerValue.value, { e });\n    };\n\n    const formItem = inject(FormItemInjectionKey, undefined);\n    const emitBlur = (e: FocusEvent) => {\n      adjustTextareaHeight();\n      focused.value = false;\n      props.onBlur?.(innerValue.value, { e });\n      formItem?.handleBlur();\n    };\n\n    // computed\n    const textareaClasses = computed(() => {\n      return [\n        name.value,\n        {\n          [`${prefix.value}-is-disabled`]: disabled.value,\n          [`${prefix.value}-is-readonly`]: props.readonly,\n        },\n      ];\n    });\n    const inputAttrs = computed<Record<string, any>>(() => {\n      return getValidAttrs({\n        autofocus: props.autofocus,\n        disabled: disabled.value,\n        readonly: props.readonly,\n        placeholder: props.placeholder,\n        maxlength: props.maxlength || undefined,\n        name: props.name || undefined,\n      });\n    });\n    const characterNumber = computed(() => {\n      const characterInfo = getCharacterLength(String(innerValue.value || ''));\n      if (typeof characterInfo === 'object') {\n        return characterInfo.length;\n      }\n      return characterInfo;\n    });\n\n    // watch\n    watch(\n      () => innerValue.value,\n      () => adjustTextareaHeight(),\n    );\n\n    watch(refTextareaElem, (el) => {\n      if (!el) return;\n      adjustTextareaHeight();\n    });\n\n    watch(\n      () => props.autofocus,\n      (val) => {\n        if (val) {\n          refTextareaElem.value.focus();\n        }\n      },\n    );\n\n    expose({\n      focus,\n      blur,\n    });\n\n    onMounted(() => {\n      adjustTextareaHeight();\n    });\n\n    const renderTNodeJSX = useTNodeJSX();\n    return () => {\n      const inputEvents = getValidAttrs({\n        onFocus: emitFocus,\n        onBlur: emitBlur,\n        onKeydown: emitKeyDown,\n        onKeyup: emitKeyUp,\n        onKeypress: emitKeypress,\n      });\n      const { STATUS } = useCommonClassName();\n      const classes = computed(() => [\n        `${name.value}__inner`,\n        {\n          [`${prefix.value}-is-${props.status}`]: props.status,\n          [STATUS.value.disabled]: disabled.value,\n          [STATUS.value.focused]: focused.value,\n          [`${prefix.value}-resize-none`]: props.maxlength,\n        },\n        'narrow-scrollbar',\n      ]);\n\n      const tips = renderTNodeJSX('tips');\n\n      return (\n        <div class={textareaClasses.value} {...omit(attrs, ['style'])}>\n          <textarea\n            onInput={handleInput}\n            onCompositionend={onCompositionend}\n            ref={refTextareaElem}\n            value={innerValue.value}\n            style={computedStyle.value}\n            class={classes.value}\n            {...inputEvents}\n            {...inputAttrs.value}\n          ></textarea>\n          {props.maxcharacter && (\n            <span class={TEXTAREA_LIMIT.value}>{`${characterNumber.value}/${props.maxcharacter}`}</span>\n          )}\n          {!props.maxcharacter && props.maxlength ? (\n            <span class={TEXTAREA_LIMIT.value}>{`${innerValue.value ? String(innerValue.value)?.length : 0}/${\n              props.maxlength\n            }`}</span>\n          ) : null}\n          {tips && (\n            <div class={`${TEXTAREA_TIPS_CLASS.value} ${name.value}__tips--${props.status || 'normal'}`}>{tips}</div>\n          )}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["getValidAttrs","obj","newObj","Object","keys","forEach","key","defineComponent","name","inheritAttrs","props","setup","attrs","expose","prefix","usePrefixClass","TEXTAREA_TIPS_CLASS","computed","value","TEXTAREA_LIMIT","toRefs","modelValue","useVModel","defaultValue","onChange","innerValue","setInnerValue","disabled","useFormDisabled","textareaStyle","ref","computedStyle","style","refTextareaElem","focused","focus","blur","adjustTextareaHeight","autosize","nextTick","calcTextareaHeight","minRows","maxRows","rows","height","minHeight","setInputValue","v","textareaElem","sV","String","inputValueChangeHandle","e","target","val","maxcharacter","stringInfo","getCharacterLength","characters","handleInput","isComposing","inputType","onCompositionend","eventDeal","_name","toUpperCase","slice","emitKeyDown","emitKeyUp","emitKeypress","emitFocus","onFocus","formItem","inject","FormItemInjectionKey","emitBlur","onBlur","handleBlur","textareaClasses","readonly","inputAttrs","autofocus","placeholder","maxlength","characterNumber","characterInfo","length","watch","el","onMounted","renderTNodeJSX","useTNodeJSX","inputEvents","onKeydown","onKeyup","onKeypress","useCommonClassName","STATUS","classes","status","tips","_createVNode","_mergeProps","omit"],"mappings":"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"}