{"version":3,"file":"useColHeaders.js","sources":["../../../src/calendar/hook/useColHeaders.ts"],"sourcesContent":["import { computed } from 'vue';\n\nimport { CellColHeader, CalendarState } from '../interface';\nimport { TdCalendarProps, WeekDay } from '../type';\nimport { useConfig } from '../../hooks/useConfig';\nimport { COMPONENT_NAME } from '../const';\nimport * as utils from '../utils';\n\nexport function useColHeaders(props: TdCalendarProps, state: CalendarState) {\n  const { t, globalConfig } = useConfig(COMPONENT_NAME);\n\n  const weekDipalyText = computed<TdCalendarProps['week']>(() => {\n    return props.week || t(globalConfig.value.week).split(',');\n  });\n  function getWeekDisplay(weekNum: number): string {\n    const weekText = weekDipalyText.value;\n    return typeof weekText === 'object' && weekText[weekNum - 1] ? weekText[weekNum - 1] : utils.getDayCn(weekNum);\n  }\n  const cellColHeaders = computed<CellColHeader[]>(() => {\n    const re: CellColHeader[] = [];\n    const min: WeekDay = 1;\n    const max: WeekDay = 7;\n\n    for (let i = state.realFirstDayOfWeek; i <= max; i++) {\n      re.push({\n        num: i as WeekDay,\n        display: getWeekDisplay(i),\n      });\n    }\n    if (state.realFirstDayOfWeek > min) {\n      for (let i = min; i < state.realFirstDayOfWeek; i++) {\n        re.push({\n          num: i as WeekDay,\n          display: getWeekDisplay(i),\n        });\n      }\n    }\n    return re;\n  });\n\n  return {\n    cellColHeaders,\n  };\n}\n"],"names":["useColHeaders","props","state","useConfig","COMPONENT_NAME","t","globalConfig","weekDipalyText","computed","week","value","split","getWeekDisplay","weekNum","weekText","utils","cellColHeaders","re","min","max","i","realFirstDayOfWeek","push","num","display"],"mappings":";;;;;;;;;;;;;;;;;;;;AAQgB,SAAAA,aAAA,CAAcC,OAAwBC,KAAsB,EAAA;EAC1E,IAA4BC,UAAAA,GAAAA,UAAUC,cAAc,CAAA;AAA5CC,IAAAA,CAAA,cAAAA,CAAA;AAAGC,IAAAA,YAAa,cAAbA,YAAa,CAAA;AAElB,EAAA,IAAAC,cAAA,GAAiBC,SAAkC,YAAM;AACtD,IAAA,OAAAP,KAAA,CAAMQ,QAAQJ,CAAE,CAAAC,YAAA,CAAaI,MAAMD,IAAI,CAAA,CAAEE,MAAM,GAAG,CAAA,CAAA;AAC3D,GAAC,CAAA,CAAA;EACD,SAASC,eAAeC,OAAyB,EAAA;AAC/C,IAAA,IAAMC,WAAWP,cAAe,CAAAG,KAAA,CAAA;IACzB,OAAA,OAAA,CAAOI,QAAa,CAAA,KAAA,QAAA,IAAYA,QAAS,CAAAD,OAAA,GAAU,CAAK,CAAA,GAAAC,QAAA,CAASD,OAAU,GAAA,CAAA,CAAA,GAAKE,QAAM,CAASF,OAAO,CAAA,CAAA;AAC/G,GAAA;AACM,EAAA,IAAAG,cAAA,GAAiBR,SAA0B,YAAM;IACrD,IAAMS,KAAsB,EAAC,CAAA;IAC7B,IAAMC,GAAe,GAAA,CAAA,CAAA;IACrB,IAAMC,GAAe,GAAA,CAAA,CAAA;AAErB,IAAA,KAAA,IAASC,CAAI,GAAAlB,KAAA,CAAMmB,kBAAoB,EAAAD,CAAA,IAAKD,KAAKC,CAAK,EAAA,EAAA;MACpDH,EAAA,CAAGK,IAAK,CAAA;AACNC,QAAAA,GAAK,EAAAH,CAAA;QACLI,OAAA,EAASZ,eAAeQ,CAAC,CAAA;AAC3B,OAAC,CAAA,CAAA;AACH,KAAA;AACI,IAAA,IAAAlB,KAAA,CAAMmB,qBAAqBH,GAAK,EAAA;AAClC,MAAA,KAAA,IAASE,EAAI,GAAAF,GAAA,EAAKE,EAAI,GAAAlB,KAAA,CAAMmB,oBAAoBD,EAAK,EAAA,EAAA;QACnDH,EAAA,CAAGK,IAAK,CAAA;AACNC,UAAAA,GAAK,EAAAH,EAAA;UACLI,OAAA,EAASZ,eAAeQ,EAAC,CAAA;AAC3B,SAAC,CAAA,CAAA;AACH,OAAA;AACF,KAAA;AACO,IAAA,OAAAH,EAAA,CAAA;AACT,GAAC,CAAA,CAAA;EAEM,OAAA;AACLD,IAAAA,cAAA,EAAAA,cAAAA;GACF,CAAA;AACF;;;;"}