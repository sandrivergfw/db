{"version":3,"file":"comment.js","sources":["../../src/comment/comment.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport props from './props';\n\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport Button from '../button';\n\nexport default defineComponent({\n  name: 'TComment',\n  props,\n  setup() {\n    const COMPONENT_NAME = usePrefixClass('comment');\n    const renderTNodeJSX = useTNodeJSX();\n\n    return () => {\n      const reply = renderTNodeJSX('reply');\n      const author = renderTNodeJSX('author');\n      const datetime = renderTNodeJSX('datetime');\n      const quote = renderTNodeJSX('quote');\n      const actions = renderTNodeJSX('actions');\n      const content = renderTNodeJSX('content');\n      const avatar = renderTNodeJSX('avatar');\n      const showAuthorDatetime = computed(() => author || datetime);\n\n      const replyDom = reply ? <div class={`${COMPONENT_NAME.value}__reply`}>{reply}</div> : null;\n\n      const quoteDom = quote ? <div class={`${COMPONENT_NAME.value}__quote`}>{quote}</div> : null;\n\n      const avatarDom = avatar ? (\n        <div class={`${COMPONENT_NAME.value}__avatar`}>\n          {typeof avatar === 'string' ? (\n            <img src={avatar} alt=\"\" class={`${COMPONENT_NAME.value}__avatar-image`} />\n          ) : (\n            avatar\n          )}\n        </div>\n      ) : null;\n\n      const authorDatetimeDom = showAuthorDatetime.value && (\n        <div class={`${COMPONENT_NAME.value}__author`}>\n          {author && <span class={`${COMPONENT_NAME.value}__name`}>{author}</span>}\n          {datetime && <span class={`${COMPONENT_NAME.value}__time`}>{datetime}</span>}\n        </div>\n      );\n\n      const renderActions = () => {\n        if (!actions || !actions.length) return null;\n        return (\n          <div class={`${COMPONENT_NAME.value}__actions`}>\n            {(Array.isArray(actions) ? actions : [actions]).map((action, index) => (\n              <Button key={`action-${index}`} size=\"small\" variant=\"text\">\n                {action}\n              </Button>\n            ))}\n          </div>\n        );\n      };\n\n      const contentDom = (\n        <div class={`${COMPONENT_NAME.value}__content`}>\n          {authorDatetimeDom}\n          <div class={`${COMPONENT_NAME.value}__detail`}>{content}</div>\n          {quoteDom}\n          {renderActions()}\n        </div>\n      );\n\n      return (\n        <div class={COMPONENT_NAME.value}>\n          <div class={`${COMPONENT_NAME.value}__inner`}>\n            {avatarDom}\n            {contentDom}\n          </div>\n          {replyDom}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["_isVNode","defineComponent","name","props","setup","COMPONENT_NAME","usePrefixClass","renderTNodeJSX","useTNodeJSX","reply","author","datetime","quote","actions","content","avatar","showAuthorDatetime","computed","replyDom","_createVNode","value","quoteDom","avatarDom","authorDatetimeDom","renderActions","length","Array","isArray","map","action","index","contentDom"],"mappings":"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"}